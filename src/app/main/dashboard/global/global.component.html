<section>
  <div class="row">
    <div class="col-12">
      <div class="row dash-comp">
        <div *ngFor="let form of recents$ | async;" class="col-xl-3 col-md-6 col-sm-6 col-12">

          <a (click)="goToExam(form)" class="box border-radius-10 text-dark">
            <!---ADD g-forms class to return gray color-->
            <div class="box-body p-10">
              <div class="flex-grow-1">
                <div class="d-flex pe-2">
                  <div class="d-flex justify-content-between">
                    <span class="fw-600 fm me-5 fs-16">{{ 'dashboard.global.className' | translate: {classname: form?.classname } }}</span>
                  </div>
                </div>
                <div class="d-flex mt-">
                  <span class="text-muted fs-16 text-uppercase">{{ 'dashboard.global.examName' | translate: {examname: form?.examname } }}</span>
                </div>
              </div>
              <div *ngIf="form?.no_exams_msg">
                <p class="mt-20">{{form.no_exams_msg | temporaryTranslations}}</p>
              </div>
              <table class="table" *ngIf="form?.no_exams_msg == undefined">
                <tr class="mb-5">
                  <td class="border-radius-3 bg-secondary-light" [class.d-none]="(schoolTypeData$ | async)?.isTanzaniaPrimary">
                    <div class="p-2 ">
                      <div class="fs-6 d-flex justify-content-between">
                        <span> {{ 'dashboard.global.aggregate_stats.first.label' | translate: {label:
                          form?.aggregate_stats?.first?.label } }}</span>
                        <span class="fs-6 badge badge-secondary fit-content" style="font-size: smaller !important;">
                          {{ formatNumber(form?.aggregate_stats?.first?.change) }}
                          <i *ngIf="form?.aggregate_stats?.first?.change < 0" class="fa fa-level-down text-danger"></i>
                          <i *ngIf="form?.aggregate_stats?.first?.change === 0"
                            class="fa fa-fw fa-long-arrow-right text-primary"></i>
                          <i *ngIf="form?.aggregate_stats?.first?.change > 0" class="fa fa-level-up text-success"></i>
                          <!-- <i [ngClass]="{'fa fa-level-down && text-danger' : form?.aggregate_stats?.first?.change < 0, 'fa fa-fw fa-long-arrow-right && text-primary' : form?.aggregate_stats?.first?.change === 0, 'fa fa-level-up && text-success': form?.aggregate_stats?.first?.change > 0}" aria-hidden="true"></i> -->
                        </span>
                      </div>
                      <div class="fs-20 my-10" [ngClass]="form?.aggregate_stats?.first?.color"><strong>{{
                          form?.aggregate_stats?.first?.value}}</strong></div>
                    </div>
                  </td>
                  <td style="width: 5px;" [class.d-none]="(schoolTypeData$ | async)?.isTanzaniaPrimary"></td>
                  <td class="border-radius-3 bg-secondary-light" [attr.colspan]="(schoolTypeData$ | async)?.isTanzaniaPrimary ? 3 : 1">
                    <div class="p-2 ">
                      <div class="fs-6 d-flex justify-content-between">
                        <span>{{ 'dashboard.global.aggregate_stats.second.label' | translate: {label:
                          form?.aggregate_stats?.second?.label } }}</span>
                        <span *ngIf="form?.aggregate_stats?.second?.change" class="fs-6 badge badge-secondary fit-content" style="font-size: smaller !important;">
                          {{ formatNumber(form?.aggregate_stats?.second?.change) }}
                          <i *ngIf="form?.aggregate_stats?.second?.change < 0" class="fa fa-level-down text-danger"></i>
                          <i *ngIf="form?.aggregate_stats?.second?.change === 0"
                            class="fa fa-fw fa-long-arrow-right text-info"></i>
                          <i *ngIf="form?.aggregate_stats?.second?.change > 0" class="fa fa-level-up text-success"></i>
                        </span>
                      </div>
                      <div class="fs-20 my-10" [ngClass]="form?.aggregate_stats?.second?.color"><strong>{{
                          form?.aggregate_stats?.second?.value}}{{ form?.aggregate_stats?.second?.suffix}}</strong>
                      </div>
                    </div>
                  </td>
                </tr>
                <tr style="height: 5px;"></tr>
                <tr>
                  <td class="border-radius-3 bg-secondary-light">
                    <div class="p-2 ">
                      <div class="fs-6">{{ 'dashboard.global.aggregate_stats.third.label' | translate: {label:
                        form?.aggregate_stats?.third?.label } }}</div>
                      <div class="fs-20 my-5 text-primary"><strong>{{ form?.aggregate_stats?.third?.value}}</strong>
                      </div>
                    </div>
                  </td>
                  <td style="width: 5px;"></td>
                  <td class=" border-radius-3 bg-secondary-light">
                    <div class="p-2">
                      <div class="fs-6">{{ 'dashboard.global.aggregate_stats.fourth.label' | translate: {label:
                        form?.aggregate_stats?.fourth?.label } }}</div>
                      <div class="fs-20 my-5 text-primary"><strong>{{ form?.aggregate_stats?.fourth?.value}}</strong>
                      </div>
                    </div>
                  </td>
                </tr>
              </table>
              <div *ngIf="form?.no_exams_msg == undefined" class="row pt-10">
                <div class="col-12">
                  <button type="button" (click)="goToExam(form)" class="btn btn-sm btn-success col-12 text-white p-10">{{ 'dashboard.common.viewAnalysis' | translate}}</button>
                </div>
              </div>
            </div>
          </a>
        </div>
      </div>

    </div>
  </div>
</section>


