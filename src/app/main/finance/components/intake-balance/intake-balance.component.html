<div class="custom-box rounded mt-xs-15">
    <div class="box-header without-border" style="padding-bottom: 0rem;">
        <div class="d-flex align-items-center">
            <div class="icon bg-danger-light rounded w-40 h-40 d-flex justify-content-center align-items-center">
                <svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M9.46 3.995L10 3.405V6.995C10 7.545 10.45 7.995 11 7.995C11.55 7.995 12 7.545 12 6.995V3.405L12.54 3.955C12.91 4.365 13.54 4.405 13.95 4.045C13.97 4.025 13.98 4.005 14 3.995C14.39 3.605 14.39 2.975 14.01 2.585C14.01 2.585 14.01 2.585 14 2.575L11.71 0.285C11.61 0.195 11.5 0.125 11.38 0.075C11.14 -0.025 10.86 -0.025 10.62 0.075C10.5 0.125 10.39 0.195 10.29 0.285L8 2.535C7.6 2.935 7.6 3.585 8 3.995C8.4 4.405 9.06 4.395 9.46 3.995ZM11 9.995C9.34 9.995 8 11.335 8 12.995C8 14.655 9.34 15.995 11 15.995C12.66 15.995 14 14.655 14 12.995C14 11.335 12.66 9.995 11 9.995ZM11 13.995C10.45 13.995 10 13.545 10 12.995C10 12.445 10.45 11.995 11 11.995C11.55 11.995 12 12.445 12 12.995C12 13.545 11.55 13.995 11 13.995ZM4 12.995C4 13.545 4.45 13.995 5 13.995C5.55 13.995 6 13.545 6 12.995C6 12.445 5.55 11.995 5 11.995C4.45 11.995 4 12.435 4 12.995ZM18 12.995C18 12.445 17.55 11.995 17 11.995C16.45 11.995 16 12.445 16 12.995C16 13.545 16.45 13.995 17 13.995C17.55 13.995 18 13.545 18 12.995ZM19 5.995H15C14.45 5.995 14 6.445 14 6.995C14 7.545 14.45 7.995 15 7.995H19C19.55 7.995 20 8.445 20 8.995V16.995C20 17.545 19.55 17.995 19 17.995H3C2.45 17.995 2 17.545 2 16.995V8.995C2 8.445 2.45 7.995 3 7.995H7C7.55 7.995 8 7.545 8 6.995C8 6.445 7.55 5.995 7 5.995H3C1.34 5.995 0 7.335 0 8.995V16.995C0 18.655 1.34 19.995 3 19.995H19C20.66 19.995 22 18.655 22 16.995V8.995C22 7.335 20.66 5.995 19 5.995Z"
                        fill="#FF764A" />
                </svg>
            </div>
            <div class="ms-5">
                <h4 class="mb-0">Balances</h4>
            </div>
        </div>
    </div>
    <ng-container *ngIf="isLoadingBalances; then dataLoading else dataLoaded"></ng-container>
    <ng-template #dataLoading>
        <div class="box-body">
            <app-loader-div [height]="180"></app-loader-div>
        </div>
    </ng-template>
    <ng-template #dataLoaded>
        <div class="custom-box-header without-border" style="padding-bottom: 0.5rem;">
            <small style="display: block;">TOTAL BALANCE</small>
            <h4 class="box-title" style="display: block;">
                <!-- <span style="font-weight: 500;">Ksh</span> -->
                {{ (dashboardStatistics.invoicedAmount - dashboardStatistics.collectedAmount) |
                currency }}
            </h4>
        </div>
        <div style="padding: 0 1rem 1rem 1rem;">
            <hr style="height:4px; color:#000; margin: 0.3rem 0;">
        </div>
        <div class="custom-box-body" style="padding: 0 1rem 1rem 1rem;">
            <!-- <div *ngFor="let val of streamData; last as isLast" class="box box-slided-up"
                [ngClass]="isLast? 'mb-0': ''">
                <div class="box-header no-border bg-secondary-light box-btn-slide-close"
                    style="border-radius: 10px;cursor: pointer;">
                    <h5 class="box-title">{{ val.intake.intakeName }}</h5>
                    <ul class="box-controls pull-right" style="right: 0.5rem;">
                        <li>
                            <a class="px-0" style="font-size: 0.9rem; padding: 0;margin: 0;">
                                <i class="bi bi-caret-down-fill"></i>
                            </a>
                        </li>
                        <li><a class="fw-bolder" [ngClass]="val.intake.balanceDue < 0 ? 'text-danger': 'text-success'"
                                style="padding: 0;margin: 0;">{{ val.intake.balanceDue | currency }}</a>
                        </li>
                    </ul>
                </div>
                <div class="box-body mailbox-nav pb-0 pt-1" style="padding-left: 1rem;padding-right: 1rem;">
                    <ul class="nav nav-pills flex-column">
                        <li *ngFor="let stream of val.streams" (click)="getFeeBalanceByStream(stream)"
                            class="nav-item bt-4 text-uppercase" style="cursor: pointer;">{{stream.streamName}}<span
                                class="pull-right" [ngClass]="stream.balanceDue < 0? 'text-danger': 'text-success'">{{
                                stream.balanceDue | currency }}</span></li>
                    </ul>
                </div>
            </div> -->
            
        </div>
    </ng-template>
</div>